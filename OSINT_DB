CREATE TABLE USERS(User_ID INT NOT NULL PRIMARY KEY,
Full_Name VARCHAR(255) NOT NULL,
Nationality VARCHAR(255),
Age SMALLINT);
CREATE TABLE CHARACTER(User_ID INT NOT NULL PRIMARY KEY,
Character VARCHAR(255) NOT NULL,
CONSTRAINT fk_user
FOREIGN KEY(User_ID) REFERENCES USERS(User_ID));
CREATE TABLE EMAIL(Email_ID INT NOT NULL PRIMARY KEY,
User_ID INT NOT NULL,
Email VARCHAR(320) NOT NULL UNIQUE,
CONSTRAINT fk_user
FOREIGN KEY(User_ID) REFERENCES USERS(User_ID));
CREATE TABLE PHONE_NUMBERS(Number_ID INT NOT NULL PRIMARY KEY,
Number INT NOT NULL UNIQUE);
CREATE TABLE VK(VK_ID INT NOT NULL PRIMARY KEY,
User_ID INT NOT NULL,
Birthday DATE,
Email_ID INT,
Number_ID INT,
Supposed_Password VARCHAR(1000),
Check_Account DATE,
CONSTRAINT fk_user
FOREIGN KEY(User_ID) REFERENCES USERS(User_ID),
CONSTRAINT fk_email
FOREIGN KEY(Email_ID) REFERENCES EMAIL(Email_ID),
CONSTRAINT fk_number
FOREIGN KEY(Number_ID) REFERENCES PHONE_NUMBERS(Number_ID));
CREATE TABLE DATA_SOURCE(Data_Source_ID SMALLINT NOT NULL PRIMARY KEY,
Data_Source VARCHAR(255) NOT NULL);
CREATE TABLE USER_NUMBER(User_ID INT NOT NULL,
Number_ID INT NOT NULL,
Source_ID SMALLINT NOT NULL,
CONSTRAINT fk_user
FOREIGN KEY(User_ID) REFERENCES USERS(User_ID),
CONSTRAINT fk_number
FOREIGN KEY(Number_ID) REFERENCES PHONE_NUMBERS(Number_ID),
CONSTRAINT fk_source
FOREIGN KEY(Source_ID) REFERENCES DATA_SOURCE(Data_Source_ID));
CREATE TABLE RESIDENTIAL_ADDRESS(Address_ID INT NOT NULL PRIMARY KEY,
User_ID INT NOT NULL,
Address VARCHAR(1000) NOT NULL,
CONSTRAINT fk_user
FOREIGN KEY(User_ID) REFERENCES USERS(User_ID));
CREATE TABLE WB(User_ID INT NOT NULL,
Number_ID INT,
Email_ID INT,
Address_ID INT,
PRIMARY KEY(User_ID, Address_ID),
CONSTRAINT fk_user
FOREIGN KEY(User_ID) REFERENCES USERS(User_ID),
CONSTRAINT fk_number
FOREIGN KEY(Number_ID) REFERENCES PHONE_NUMBERS(Number_ID),
CONSTRAINT fk_email
FOREIGN KEY(Email_ID) REFERENCES EMAIL(Email_ID),
CONSTRAINT fk_address
FOREIGN KEY(Address_ID) REFERENCES RESIDENTIAL_ADDRESS(Address_ID));
CREATE TABLE BEELINE(User_ID INT NOT NULL,
Number_ID INT NOT NULL,
Address_ID INT,
CTN INT,
PRIMARY KEY(User_ID, Number_ID),
CONSTRAINT fk_user
FOREIGN KEY(User_ID) REFERENCES USERS(User_ID),
CONSTRAINT fk_number
FOREIGN KEY(Number_ID) REFERENCES PHONE_NUMBERS(Number_ID));
CREATE TABLE ACCOUNTS(User_ID INT NOT NULL PRIMARY KEY,
Account_ID VARCHAR(255) NOT NULL,
Account VARCHAR(127) NOT NULL,
CONSTRAINT fk_user
FOREIGN KEY(User_ID) REFERENCES USERS(User_ID));
CREATE TABLE SUBSCRIPTIONS(User_ID INT NOT NULL,
Account VARCHAR(127) NOT NULL,
Subscriptions TEXT NOT NULL,
PRIMARY KEY(User_ID, Account),
CONSTRAINT fk_user
FOREIGN KEY(User_ID) REFERENCES USERS(User_ID));
CREATE TABLE YANDEX_EDA(User_ID INT NOT NULL,
Number_ID INT NOT NULL,
Address_ID INT NOT NULL,
PRIMARY KEY(User_ID, Address_ID),
CONSTRAINT fk_user
FOREIGN KEY(User_ID) REFERENCES USERS(User_ID),
CONSTRAINT fk_number
FOREIGN KEY(Number_ID) REFERENCES PHONE_NUMBERS(Number_ID),
CONSTRAINT fk_address
FOREIGN KEY(Address_ID) REFERENCES RESIDENTIAL_ADDRESS(Address_ID));
